<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form action="">
      <input type="email" id="email" placeholder="Enter your email" />
      <p class="error-email"></p>
      <input type="password" id="pw" placeholder="Enter your password" />
      <p class="error-pw"></p>
      <input type="number" id="num" placeholder="Enter your number" />
      <p class="error-num"></p>
      <button>LogIn</button>
    </form>
    <script>
      const emailV = document.getElementById("email");
      const pwValid = document.getElementById("pw");
      const emailMsg = document.getElementsByClassName("error-email");
      const passwordMsg = document.getElementsByClassName("error-pw");
      const numMsg = document.getElementsByClassName("error-num");

      document
        .getElementsByTagName("button")[0]
        .addEventListener("click", (e) => {
          e.preventDefault();
          validateEmail(emailV.value);
          validatePassword(pwValid.value);
        });
      function validateEmail(emailV) {
        let mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        if (emailV.match(mailformat)) {
          emailMsg[0].innerText = "Valid email address!";
          // alert("Valid email address!");
          return true;
        } else {
          console.log("------");
          emailMsg[0].innerText = "You have entered an invalid email address!";
          // alert("You have entered an invalid email address!");
          return false;
        }
      }
      function validatePassword(pwValid) {
        let isPwEmpty;
        let isPwGT12;
        let isPwLT3;
        let itHasDigit = false;
        let isPwSmallChar = false;
        let isPwCapitalChar = false;
        let isPwHassSymbol = false;
        isPwEmpty = pwValid.lenght == 0 ? true : false;
        isPwGT12 = pwValid.lenght >= 12 ? true : false;
        isPwLT3 = pwValid.lenght <= 3 ? true : false;
        for (i = 0; i < pwValid.length; i++) {
          if ("1234567890".includes(pwValid[i])) {
            itHasDigit = true;
          }
          if ("abcdefghijklmnopqrstuvwxyz".includes(pwValid[i])) {
            isPwSmallChar = true;
          }
          if ("ABCDEFGHIJKLMNOPQRSTUVWXYZ".includes(pwValid[i])) {
            isPwCapitalChar = true;
          }
          if ("!@#$%^&*()+_-".includes(pwValid[i])) {
            isPwHassSymbol = true;
          }
        }
        console.log("isPwEmpty: " + isPwEmpty);
        console.log("isPwGT12: " + isPwGT12);
        console.log("isPwLT3: " + isPwLT3);
        console.log("isPwSmallChar: " + isPwSmallChar);
        console.log("isPwCapitalChar: " + isPwCapitalChar);
        console.log("itHasDigit: " + itHasDigit);
        console.log("isPwHassSymbol: " + isPwHassSymbol);
        return (
          !isPwEmpty &&
          !isPwGT12 &&
          !isPwLT3 &&
          itHasDigit &&
          isPwSmallChar &&
          isPwCapitalChar &&
          isPwHassSymbol
        );
      }
      function validateForm() {
        validateEmail(emailV);
        validatePassword(pwValid);
      }
    </script>
  </body>
</html>
